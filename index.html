<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="./favicon.ico" />
  <title>SMV | @asafarim/simple-md-viewer</title>
  <script>
    // Redirect non-hash URLs to hash URLs
    (function() {
      // Skip if we're already using a hash URL
      if (window.location.hash) return;
      
      // Get the base path (for GitHub Pages it would be '/simple-md-viewer/')
      var basePath = document.getElementsByTagName('base')[0]?.getAttribute('href') || '/';
      
      // Skip for the root path
      if (window.location.pathname === basePath || 
          window.location.pathname === basePath + 'index.html' ||
          window.location.pathname === '/' || 
          window.location.pathname === '/index.html') return;
      
      // Convert the path to a hash URL, removing base path if present
      var path = window.location.pathname;
      if (basePath !== '/' && path.startsWith(basePath)) {
        path = path.substring(basePath.length);
      }
      // Remove leading slash if present
      if (path.startsWith('/')) {
        path = path.substring(1);
      }
      
      // Redirect to the hash URL
      window.location.href = window.location.origin + basePath + '#/' + path + window.location.search;
    })();
  </script>
</head>
<body>
  <div id="root"></div>
  <!-- For development and production -->
  <script type="module" src="./src/main.tsx"></script>
</body>
</html>
